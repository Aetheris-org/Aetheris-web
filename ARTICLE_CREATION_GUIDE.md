# üìù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å—Ç–∞—Ç–µ–π

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π **–ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç**:

- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≥–æ—Ç–æ–≤ (`CreateArticle.vue`)
- ‚úÖ Backend API –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Strapi)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

## üîí –ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞**
```typescript
// SECURITY: Author –±–µ—Ä—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ ctx.state.user
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –ú–û–ñ–ï–¢ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é –æ—Ç –∏–º–µ–Ω–∏ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
articleData.author = userId; // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
```

### 2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**
```typescript
// SECURITY: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –°–í–û–Æ —Å—Ç–∞—Ç—å—é
if ((existingArticle as any).author?.id !== userId) {
  return ctx.forbidden('You can only update your own articles');
}
```

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏**
```typescript
// SECURITY: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª—è–µ—Ç –°–í–û–Æ —Å—Ç–∞—Ç—å—é
if ((existingArticle as any).author?.id !== userId) {
  return ctx.forbidden('You can only delete your own articles');
}
```

### 4. **CSRF –∑–∞—â–∏—Ç–∞**
–í—Å–µ POST/PUT/DELETE –∑–∞–ø—Ä–æ—Å—ã –∑–∞—â–∏—â–µ–Ω—ã CSRF —Ç–æ–∫–µ–Ω–∞–º–∏.

### 5. **Rate Limiting**
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ (500/–º–∏–Ω—É—Ç—É –≥–ª–æ–±–∞–ª—å–Ω–æ).

---

## üìã –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é

### 1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Google OAuth
- –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ `http://localhost:5173/auth`
- –ù–∞–∂–º–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
- –í–≤–µ–¥–∏ —Å–≤–æ–π –Ω–∏–∫–Ω–µ–π–º (–ø–µ—Ä–≤—ã–π —Ä–∞–∑)

### 2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏
- URL: `http://localhost:5173/create-article`
- –ò–ª–∏ –Ω–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### 3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É
```
–ó–∞–≥–æ–ª–æ–≤–æ–∫: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–º–∏–Ω. 1 —Å–∏–º–≤–æ–ª)
–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–º–∏–Ω. 1 —Å–∏–º–≤–æ–ª)
–¢–µ–≥–∏: –ú–∏–Ω–∏–º—É–º 1 —Ç–µ–≥, –º–∞–∫—Å–∏–º—É–º 5
–ü—Ä–µ–≤—å—é: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
–°–ª–æ–∂–Ω–æ—Å—Ç—å: Easy / Medium / Hard
```

### 4. –í—ã–±–µ—Ä–∏ —Å—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- **–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å** - —Å—Ç–∞—Ç—å—è —Å—Ä–∞–∑—É –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- **–ß–µ—Ä–Ω–æ–≤–∏–∫** - —Å—Ç–∞—Ç—å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è, –Ω–æ –Ω–µ –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞ –¥—Ä—É–≥–∏–º

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –Ω–∞ –±—ç–∫–µ–Ω–¥

**Frontend ‚Üí Backend (POST /api/articles)**:
```json
{
  "data": {
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
    "content": "<p>HTML —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ...</p>",
    "tags": ["Vue.js", "TypeScript"],
    "difficulty": "medium",
    "preview_image": 123,  // ID —Ñ–∞–π–ª–∞ –∏–ª–∏ URL
    "publishedAt": "2025-11-04T18:00:00.000Z"  // null –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞
  }
}
```

**Backend ‚Üí Frontend (Response)**:
```json
{
  "data": {
    "id": 1,
    "documentId": "abc123",
    "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
    "content": "<p>HTML —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ...</p>",
    "tags": ["Vue.js", "TypeScript"],
    "difficulty": "medium",
    "likes_count": 0,
    "dislikes_count": 0,
    "comments_count": 0,
    "createdAt": "2025-11-04T18:00:00.000Z",
    "publishedAt": "2025-11-04T18:00:00.000Z",
    "author": {
      "id": 4,
      "username": "test_user",
      "avatar": {
        "url": "/uploads/avatar.jpg"
      }
    },
    "preview_image": {
      "url": "/uploads/preview.jpg"
    }
  }
}
```

---

## üñºÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Strapi Media Library (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```typescript
const formData = new FormData();
formData.append('files', file);

const res = await apiClient.post('/api/upload', formData);
const imageId = res.data[0]?.id; // –ò—Å–ø–æ–ª—å–∑—É–π ID –¥–ª—è preview_image
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å (ImgBB)
```typescript
const previewUrl = await uploadPreviewImage(selectedFile.value);
// previewUrl –±—É–¥–µ—Ç URL —Å—Ç—Ä–æ–∫–æ–π
```

---

## üìä –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ Strapi

### Public —Ä–æ–ª—å (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)
- ‚úÖ `find` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π
- ‚úÖ `findOne` - –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏
- ‚ùå `create` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π
- ‚ùå `update` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π
- ‚ùå `delete` - —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π

### Authenticated —Ä–æ–ª—å (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ)
- ‚úÖ `find` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π
- ‚úÖ `findOne` - –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏
- ‚úÖ `create` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π (—Ç–æ–ª—å–∫–æ –æ—Ç —Å–≤–æ–µ–≥–æ –∏–º–µ–Ω–∏)
- ‚úÖ `update` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–µ–π (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)
- ‚úÖ `delete` - —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö)

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API –Ω–∞–ø—Ä—è–º—É—é
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
curl http://localhost:1337/api/articles

# –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é (–Ω—É–∂–µ–Ω JWT —Ç–æ–∫–µ–Ω)
curl -X POST http://localhost:1337/api/articles \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -H "X-CSRF-Token: YOUR_CSRF_TOKEN" \
  -d '{
    "data": {
      "title": "Test Article",
      "content": "<p>Test content</p>",
      "tags": ["Test"],
      "difficulty": "medium",
      "publishedAt": null
    }
  }'
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ Strapi
tail -f /tmp/strapi_start.log

# –õ–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
F12 ‚Üí Console
```

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
1. –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "Edit" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å—Ç–∞—Ç—å–∏ (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∞)
2. –ò–∑–º–µ–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è
3. –ù–∞–∂–º–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"

### –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
1. –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "Delete" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Å—Ç–∞—Ç—å–∏ (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∞)
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏ —É–¥–∞–ª–µ–Ω–∏–µ
3. **–ï—Å—Ç—å 5 —Å–µ–∫—É–Ω–¥** —á—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ (–∫–Ω–æ–ø–∫–∞ "Undo")

### –ß–µ—Ä–Ω–æ–≤–∏–∫–∏
- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä—É
- –ú–æ–∂–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
2. ‚úÖ –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –æ–Ω–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
4. ‚úÖ –ü–æ–ø—Ä–æ–±—É–π –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
5. ‚úÖ –ü–æ–ø—Ä–æ–±—É–π —É–¥–∞–ª–∏—Ç—å —Å –æ—Ç–º–µ–Ω–æ–π

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

