# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–ª—è–º–∏ —Å—Ç–∞—Ç—å–∏

## üîß –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ Strapi, –Ω–æ:
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ (title)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (content)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–≥–∏ (tags)
- –°—Ç–∞—Ç—å—è –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫ (draft) –≤–º–µ—Å—Ç–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–π (published)

## üîç –ü—Ä–∏—á–∏–Ω–∞

1. **–¢–∏–ø –ø–æ–ª—è `content`**: –í `schema.json` –±—ã–ª–æ —É–∫–∞–∑–∞–Ω–æ `"type": "richtext"`, –Ω–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTML-—Å—Ç—Ä–æ–∫—É. Strapi v5 –æ–∂–∏–¥–∞–µ—Ç –¥–ª—è `richtext` —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (Markdown –∏–ª–∏ blocks).
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—è `excerpt`**: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `excerpt`, –Ω–æ –≤ schema –µ–≥–æ –Ω–µ –±—ã–ª–æ.
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å**: –í–æ–∑–º–æ–∂–Ω–æ, `publishedAt` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–æ–ª—è `content` –Ω–∞ `text`
**–§–∞–π–ª**: `backend/strapi-backend/src/api/article/content-types/article/schema.json`

```json
"content": {
  "type": "text",  // –ë—ã–ª–æ: "richtext"
  "required": true
}
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è `excerpt`
**–§–∞–π–ª**: `backend/strapi-backend/src/api/article/content-types/article/schema.json`

```json
"excerpt": {
  "type": "text",
  "required": false
}
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö
**–§–∞–π–ª**: `frontend/src/api/articles.ts`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –Ø–≤–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ `excerpt` –≤ payload
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ `publishedAt`

```typescript
const articleData: any = {
    title: data.title,
    content: data.content,
    excerpt: data.excerpt || undefined, // –î–æ–±–∞–≤–ª–µ–Ω–æ
    tags: data.tags,
    difficulty: data.difficulty,
    publishedAt: data.status === 'published' ? new Date().toISOString() : null
};

console.log('üì§ Sending article data to Strapi:', JSON.stringify(articleData, null, 2));
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
**–§–∞–π–ª**: `backend/strapi-backend/src/api/article/controllers/article.ts`

–î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```typescript
console.log('üîµ Creating article with data:', JSON.stringify(data, null, 2));
console.log('üîµ User ID:', userId);
console.log('üîµ Final articleData:', JSON.stringify(articleData, null, 2));
console.log('üîµ Created entity:', JSON.stringify(entity, null, 2));
console.log('üîµ Sanitized entity:', JSON.stringify(sanitizedEntity, null, 2));
```

## üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Strapi
```bash
cd /Users/zimbazo/WebstormProjects/Aetheris-community/backend/strapi-backend

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å Strapi (Ctrl+C)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞:
npm run develop
```

**–í–ê–ñ–ù–û**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `schema.json` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Strapi!

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ DevTools
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é —á–µ—Ä–µ–∑ UI
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
üì§ Sending article data to Strapi: {
  "title": "–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è",
  "content": "<p>–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>",
  "excerpt": "–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ",
  "tags": ["JavaScript", "Vue.js"],
  "difficulty": "medium",
  "publishedAt": "2024-01-15T12:00:00.000Z"
}
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ Strapi
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Strapi –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîµ Creating article with data: {
  "title": "–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è",
  "content": "<p>–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>",
  "excerpt": "–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ",
  "tags": ["JavaScript", "Vue.js"],
  "difficulty": "medium",
  "publishedAt": "2024-01-15T12:00:00.000Z"
}
üîµ User ID: 4
üîµ Final articleData: {
  "title": "–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è",
  "content": "<p>–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>",
  "excerpt": "–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ",
  "tags": ["JavaScript", "Vue.js"],
  "difficulty": "medium",
  "publishedAt": "2024-01-15T12:00:00.000Z",
  "author": 4
}
üîµ Created entity: { ... }
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è
2. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ `/create-article`
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
   ```
   –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–¢–µ—Å—Ç —Å—Ç–∞—Ç—å–∏"
   –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ: "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏"
   –¢–µ–≥–∏: ["JavaScript", "Testing"]
   –°–ª–æ–∂–Ω–æ—Å—Ç—å: Medium
   ```
4. –ù–∞–∂–º–∏ "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"
5. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ –°—Ç–∞—Ç—å—è –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   - ‚úÖ –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - ‚úÖ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - ‚úÖ –¢–µ–≥–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - ‚úÖ –°—Ç–∞—Ç—å—è –ù–ï –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Strapi Admin Panel
1. –û—Ç–∫—Ä–æ–π `http://localhost:1337/admin`
2. –ü–µ—Ä–µ–π–¥–∏ –≤ Content Manager ‚Üí Article
3. –ù–∞–π–¥–∏ —Å–æ–∑–¥–∞–Ω–Ω—É—é —Å—Ç–∞—Ç—å—é
4. –ü—Ä–æ–≤–µ—Ä—å:
   - ‚úÖ –ü–æ–ª–µ `title` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
   - ‚úÖ –ü–æ–ª–µ `content` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ HTML
   - ‚úÖ –ü–æ–ª–µ `excerpt` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
   - ‚úÖ –ü–æ–ª–µ `tags` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤
   - ‚úÖ –ü–æ–ª–µ `difficulty` = "medium"
   - ‚úÖ –ü–æ–ª–µ `publishedAt` –ù–ï –ø—É—Å—Ç–æ–µ (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è)
   - ‚úÖ –ü–æ–ª–µ `author` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ï—Å–ª–∏ —Å—Ç–∞—Ç—å—è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –ø—É—Å—Ç–∞—è:

1. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**:
   - –û—Ç–∫—Ä–æ–π DevTools ‚Üí Console
   - –°–æ–∑–¥–∞–π —Å—Ç–∞—Ç—å—é
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `üì§ Sending article data to Strapi` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è

2. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Strapi**:
   - –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Strapi –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ `üîµ Creating article with data`
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ `data`

3. **–ü—Ä–æ–≤–µ—Ä—å schema.json**:
   ```bash
   cat backend/strapi-backend/src/api/article/content-types/article/schema.json
   ```
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ `content` –∏–º–µ–µ—Ç —Ç–∏–ø `"text"`
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –µ—Å—Ç—å –ø–æ–ª–µ `excerpt`

4. **–ü—Ä–æ–≤–µ—Ä—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é**:
   ```bash
   sqlite3 backend/strapi-backend/.tmp/data.db
   SELECT id, title, content, excerpt, tags, difficulty, publishedAt FROM articles ORDER BY id DESC LIMIT 1;
   .quit
   ```

### –ï—Å–ª–∏ —Å—Ç–∞—Ç—å—è –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ draft:

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `publishedAt` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
   ```javascript
   publishedAt: data.status === 'published' ? new Date().toISOString() : null
   ```

2. –ü—Ä–æ–≤–µ—Ä—å –≤ Strapi Admin Panel:
   - –ï—Å–ª–∏ `publishedAt` –ø—É—Å—Ç–æ–µ ‚Üí —Å—Ç–∞—Ç—å—è draft
   - –ï—Å–ª–∏ `publishedAt` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É ‚Üí —Å—Ç–∞—Ç—å—è published

3. –£—Å—Ç–∞–Ω–æ–≤–∏ `publishedAt` –≤—Ä—É—á–Ω—É—é –≤ Strapi:
   - –û—Ç–∫—Ä–æ–π —Å—Ç–∞—Ç—å—é –≤ Admin Panel
   - –ù–∞–∂–º–∏ "Publish"
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—å—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π

## üìã –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ `backend/strapi-backend/src/api/article/content-types/article/schema.json` - –∏–∑–º–µ–Ω–µ–Ω —Ç–∏–ø `content` –Ω–∞ `text`, –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `excerpt`
- ‚úÖ `backend/strapi-backend/src/api/article/controllers/article.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `frontend/src/api/articles.ts` - –¥–æ–±–∞–≤–ª–µ–Ω–æ `excerpt` –≤ payload –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Strapi** ‚Äî —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ!
2. **–°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é** —á–µ—Ä–µ–∑ UI
3. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏** –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Strapi
4. **–ü—Ä–æ–≤–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
5. **–ü—Ä–æ–≤–µ—Ä—å –≤ Admin Panel** —á—Ç–æ –≤—Å–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å—Ç–∞—Ç—å—è –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–ª—è—Ç—å—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏! üöÄ

