# ‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û!

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 4 –Ω–æ—è–±—Ä—è 2025, 16:12  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Strapi –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç  
**URL:** http://localhost:1337

---

## üìä –ò—Ç–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (100%)

| –ó–∞–¥–∞—á–∞ | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| **Content-Types** | ‚úÖ –ì–æ—Ç–æ–≤–æ | Article, Comment, Notification, ArticleBookmark |
| **Controllers** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å–µ endpoints –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã |
| **Services** | ‚úÖ –ì–æ—Ç–æ–≤–æ | Reactions, Search, Notifications |
| **Policies** | ‚úÖ –ì–æ—Ç–æ–≤–æ | is-owner, can-see-draft |
| **File Uploads** | ‚úÖ –ì–æ—Ç–æ–≤–æ | Strapi Media Library (–≤–º–µ—Å—Ç–æ imgBB) |
| **Frontend API** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å–µ –≤—ã–∑–æ–≤—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã |
| **Security** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –í—Å–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã |
| **Migration Script** | ‚úÖ –ì–æ—Ç–æ–≤–æ | –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤ |
| **Old Backend** | ‚úÖ –£–¥–∞–ª—ë–Ω | Python —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã |
| **Build** | ‚úÖ –£—Å–ø–µ—à–Ω–æ | TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ |
| **Strapi –∑–∞–ø—É—Å–∫** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ :1337 |

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. Strapi —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
```
‚úÖ Strapi —Ä–∞–±–æ—Ç–∞–µ—Ç: http://localhost:1337
‚úÖ Admin panel: http://localhost:1337/admin
```

### 2. –ù–∞—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
1. –û—Ç–∫—Ä–æ–π http://localhost:1337/admin
2. –°–æ–∑–¥–∞–π admin –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω)
3. Settings ‚Üí Users & Permissions ‚Üí Roles
4. **Public**: –≤–∫–ª—é—á–∏ `find`, `findOne` –¥–ª—è Article –∏ Comment
5. **Authenticated**: –≤–∫–ª—é—á–∏ –í–°–ï –º–µ—Ç–æ–¥—ã –¥–ª—è Article, Comment, Notification, ArticleBookmark

### 3. –ó–∞–ø—É—Å—Ç–∏ Frontend
```bash
cd /Users/zimbazo/WebstormProjects/Aetheris-community
npm run dev
```

---

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/
‚îú‚îÄ‚îÄ articles.db                   # –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏)
‚îî‚îÄ‚îÄ strapi-backend/               # ‚úÖ –ù–û–í–´–ô BACKEND
    ‚îú‚îÄ‚îÄ .tmp/data.db              # –ù–æ–≤–∞—è Strapi –±–∞–∑–∞
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ api/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ article/          # ‚úÖ –°—Ç–∞—Ç—å–∏ + reactions + search
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ comment/          # ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ + reactions
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notification/     # ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ article-bookmark/ # ‚úÖ –ó–∞–∫–ª–∞–¥–∫–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ extensions/
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users-permissions/ # ‚úÖ OAuth + User
    ‚îÇ   ‚îú‚îÄ‚îÄ policies/             # ‚úÖ is-owner, can-see-draft
    ‚îÇ   ‚îú‚îÄ‚îÄ services/             # ‚úÖ CSRF, Sessions, Tokens
    ‚îÇ   ‚îî‚îÄ‚îÄ index.ts              # ‚úÖ Security, Rate Limiting
    ‚îî‚îÄ‚îÄ scripts/
        ‚îî‚îÄ‚îÄ migrate-from-python.js # ‚úÖ –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ:

```bash
cd backend/strapi-backend
node scripts/migrate-from-python.js
```

–°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–Ω–µ—Å—ë—Ç:
- ‚úÖ –í—Å–µ —Å—Ç–∞—Ç—å–∏ (—Å —Ç–µ–≥–∞–º–∏, –ª–∞–π–∫–∞–º–∏, —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é)
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é)
- ‚úÖ –ó–∞–∫–ª–∞–¥–∫–∏
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## üÜï –ù–æ–≤—ã–µ endpoints

### –°—Ç–∞—Ç—å–∏
- `GET /api/articles` - –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π
- `GET /api/articles/:id` - –û–¥–Ω–∞ —Å—Ç–∞—Ç—å—è
- `POST /api/articles` - –°–æ–∑–¥–∞—Ç—å
- `PUT /api/articles/:id` - –û–±–Ω–æ–≤–∏—Ç—å
- `DELETE /api/articles/:id` - –£–¥–∞–ª–∏—Ç—å
- `POST /api/articles/:id/react` - Like/Dislike
- `GET /api/articles/search?q=query` - –ü–æ–∏—Å–∫

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `GET /api/comments?filters[article][id][$eq]=:id`
- `POST /api/comments`
- `PUT /api/comments/:id`
- `DELETE /api/comments/:id`
- `POST /api/comments/:id/react`

### –ó–∞–∫–ª–∞–¥–∫–∏
- `POST /api/articles/:id/bookmark`
- `GET /api/articles/:id/bookmark`
- `GET /api/articles/bookmarked`

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `GET /api/notifications`
- `POST /api/notifications/:id/read`
- `GET /api/notifications/unread-count`

### –ó–∞–≥—Ä—É–∑–∫–∞
- `POST /api/upload` - –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ **—Ä–∞–±–æ—Ç–∞—é—Ç**:

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –§–∞–π–ª |
|---------|--------|------|
| Google OAuth2 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `extensions/users-permissions/strapi-server.ts` |
| Email Hashing | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | HMAC-SHA256 |
| JWT (15 –º–∏–Ω) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `config/plugins.ts` |
| Refresh Tokens (7 –¥–Ω–µ–π) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `services/refresh-token.ts` |
| CSRF Protection | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | `src/index.ts` |
| Rate Limiting | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 500/–º–∏–Ω + 10/–º–∏–Ω OAuth |
| Security Headers | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | CSP, HSTS, X-Frame-Options |
| HttpOnly Cookies | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | OAuth callback |

---

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

| –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|------|-------|
| Python/FastAPI | Strapi v5 (Node.js/TypeScript) |
| SQLAlchemy ORM | Strapi Entity Service |
| imgBB –¥–ª—è —Ñ–∞–π–ª–æ–≤ | Strapi Media Library |
| –†—É—á–Ω—ã–µ CRUD | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ + –∫–∞—Å—Ç–æ–º–Ω—ã–µ |
| –ù–µ—Ç –∞–¥–º–∏–Ω–∫–∏ | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å |
| ~2000 —Å—Ç—Ä–æ–∫ Python | ~1500 —Å—Ç—Ä–æ–∫ TypeScript (+ –∞–≤—Ç–æ-–∫–æ–¥ Strapi) |

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
1. ‚úÖ OAuth –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ —Å –ø—Ä–µ–≤—å—é
3. ‚úÖ –õ–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ —Å—Ç–∞—Ç—å–∏
4. ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞—Ç—å–µ
5. ‚úÖ –ó–∞–∫–ª–∞–¥–∫–∏
6. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ª–∞–π–∫–∞—Ö/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
7. ‚úÖ –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —á—É–∂—É—é —Å—Ç–∞—Ç—å—é ‚Üí 403 Forbidden
- ‚úÖ 11+ OAuth –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí Rate Limit
- ‚úÖ POST –±–µ–∑ CSRF ‚Üí 403 Forbidden

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –ù–∞—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
–ó–∞–π–¥–∏ –≤ http://localhost:1337/admin –∏ –Ω–∞—Å—Ç—Ä–æ–π —Ä–æ–ª–∏ (—Å–º. –≤—ã—à–µ)

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π http://localhost:5173 –∏ –ø—Ä–æ–≤–µ—Ä—å:
- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –õ–∞–π–∫–∏

### 3. –ú–∏–≥—Ä–∏—Ä—É–π –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
cd backend/strapi-backend
node scripts/migrate-from-python.js
```

### 4. Production (–∫–æ–≥–¥–∞ –±—É–¥–µ—à—å –≥–æ—Ç–æ–≤)
- –°–º–µ–Ω–∏ SQLite –Ω–∞ PostgreSQL
- –ù–∞—Å—Ç—Ä–æ–π Redis –¥–ª—è rate limiting
- –ù–∞—Å—Ç—Ä–æ–π S3/Cloudinary –¥–ª—è —Ñ–∞–π–ª–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[MIGRATION_COMPLETE.md](./MIGRATION_COMPLETE.md)** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
- **[STRAPI_MIGRATION_README.md](./STRAPI_MIGRATION_README.md)** - Quick Start Guide
- **[SECURITY.md](./SECURITY.md)** - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **[Strapi Docs](https://docs.strapi.io/)** - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Strapi –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
tail -f /tmp/strapi_start.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏
lsof -ti:1337 | xargs kill -9
cd backend/strapi-backend
npm run develop
```

### 403 –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
- –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ (Settings ‚Üí Roles)
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω (–µ—Å—Ç—å —Ç–æ–∫–µ–Ω –≤ cookies)

### –ü—Ä–µ–≤—å—é –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å `config/middlewares.ts` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `formLimit: '5mb'`

---

## üéâ –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!

**–ß—Ç–æ –∏–º–µ–µ–º:**
- ‚úÖ Strapi v5 –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ backend –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —É—Ä–æ–≤–Ω–µ (–∏–ª–∏ –≤—ã—à–µ)
- ‚úÖ TypeScript –≤–º–µ—Å—Ç–æ Python
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production

**–£–¥–∞—á–∏ —Å –Ω–æ–≤—ã–º backend!** üöÄ

---

**P.S.** –°—Ç–∞—Ä—ã–µ Python —Ñ–∞–π–ª—ã —É–¥–∞–ª–µ–Ω—ã. –ë–∞–∑–∞ `articles.db` –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

