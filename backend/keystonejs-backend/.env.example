# ============================================
# Backend Environment Variables
# ============================================
# Скопируйте этот файл в .env и заполните значения
# cp .env.example .env

# ============================================
# Database Configuration (REQUIRED)
# ============================================
# URL подключения к PostgreSQL базе данных
# 
# Пример для Supabase:
# DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"
#
# Пример для Render:
# DATABASE_URL="postgresql://user:password@dpg-xxxxx-a.oregon-postgres.render.com:5432/dbname"
#
# Пример для собственного сервера:
# DATABASE_URL="postgresql://username:password@host:5432/database_name?schema=public"
DATABASE_URL="postgresql://username:password@host:5432/database_name?schema=public"

# ============================================
# Security Secrets (REQUIRED)
# ============================================
# ВАЖНО: Эти секреты должны быть минимум 32 символа!
# Генерация безопасных секретов:
#   openssl rand -base64 64

# Секрет для сессий (минимум 32 символа)
# Используется для подписи и шифрования сессий
SESSION_SECRET="your-very-long-secret-key-minimum-32-characters-long-change-this-in-production"

# Секрет для HMAC хеширования email (минимум 32 символа)
# Используется для хеширования email адресов перед сохранением в БД
EMAIL_HMAC_SECRET="your-very-long-secret-key-minimum-32-characters-long-change-this-in-production"

# ============================================
# OAuth2 Google Configuration (REQUIRED if using OAuth)
# ============================================
# Настройка Google OAuth для входа пользователей
# 
# 1. Создайте OAuth 2.0 Client в Google Cloud Console:
#    https://console.cloud.google.com/apis/credentials
#
# 2. Добавьте Authorized redirect URI:
#    Production: https://your-backend.example.com/api/connect/google/callback
#
# 3. Скопируйте Client ID и Client Secret сюда

# Google OAuth Client ID
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"

# Google OAuth Client Secret
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# Google OAuth Callback URL
# ВАЖНО: Должен указывать на BACKEND, а не frontend!
# Production: https://your-backend.example.com/api/connect/google/callback
GOOGLE_CALLBACK_URL="https://your-backend.example.com/api/connect/google/callback"

# ============================================
# Application URLs (REQUIRED)
# ============================================
# URL фронтенда (для CORS и OAuth редиректов)
FRONTEND_URL="https://your-frontend.example.com"

# Публичный URL бэкенда (для OAuth и других внешних ссылок)
PUBLIC_URL="https://your-backend.example.com"

# ============================================
# Redis Configuration (RECOMMENDED for production)
# ============================================
# Redis используется для хранения сессий и кэширования
# Если Redis не настроен, используется in-memory хранилище (не рекомендуется для production)
#
# Для production рекомендуется использовать Redis:
# - Render: создайте Redis сервис
# - Supabase: используйте отдельный Redis сервис
# - Собственный сервер: установите Redis

# Redis host
REDIS_HOST="localhost"

# Redis port
REDIS_PORT="6379"

# Redis password (если требуется)
# Оставьте пустым, если пароль не используется
REDIS_PASSWORD=""

# ============================================
# Image Hosting (OPTIONAL)
# ============================================
# API ключ для ImgBB (для загрузки изображений)
# Получить можно на https://api.imgbb.com/
# Если не указан, изображения будут загружаться временно (не сохраняются)
IMGBB_API_KEY="your_imgbb_api_key_here"

# ============================================
# Server Configuration
# ============================================
# Порт, на котором будет работать сервер
# Default: 1337
# Обычно устанавливается платформой (Render, Vercel и т.д.)
PORT="1337"

# ============================================
# Environment
# ============================================
# Режим работы приложения
# Production: production
NODE_ENV="production"

# Уровень логирования
# Доступные значения: debug, info, warn, error
# Production: info или warn (не используйте debug в продакшене!)
LOG_LEVEL="info"

# ============================================
# Admin User Creation (OPTIONAL - только для скрипта)
# ============================================
# Переменные для создания первого администратора через скрипт
# Используются только скриптом scripts/create-first-admin.ts
# НЕ нужны для обычной работы приложения
# Можно удалить после создания первого админа
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="admin123"
ADMIN_USERNAME="admin"
ADMIN_NAME="Admin"
