# –†–µ—à–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "unexpected call to getAdminMetaInRelationshipField"

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Admin Meta –≤ KeystoneJS. –û–±—ã—á–Ω–æ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –∫—ç—à–µ–º –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –≤ —Å—Ö–µ–º–∞—Ö.

## üîß –†–µ—à–µ–Ω–∏—è (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É)

### –†–µ—à–µ–Ω–∏–µ 1: –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à KeystoneJS

```bash
cd backend/keystonejs-backend

# –£–¥–∞–ª–∏—Ç–µ –∫—ç—à KeystoneJS
rm -rf .keystone
rm -rf node_modules/.cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
npm run dev
```

---

### –†–µ—à–µ–Ω–∏–µ 2: –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ KeystoneJS

```bash
cd backend/keystonejs-backend

# –£–¥–∞–ª–∏—Ç–µ –∫—ç—à –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -rf .keystone
rm -rf dist

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ dev
npm run dev
```

---

### –†–µ—à–µ–Ω–∏–µ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å—Ö–µ–º

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `schemas/index.ts` –≤—Å–µ —Å—Ö–µ–º—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```typescript
export const lists = {
  User,
  Article,
  Comment,
  ArticleReaction,
  CommentReaction,
  Bookmark,
  Follow,
  Notification,
};
```

---

### –†–µ—à–µ–Ω–∏–µ 4: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ Admin UI

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ç–æ–ª—å–∫–æ –≤ Admin UI, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –µ–≥–æ:

–í `keystone.ts`:

```typescript
ui: {
  isDisabled: true, // –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ–º Admin UI
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
}
```

–ù–æ —ç—Ç–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É, —Ç–æ–ª—å–∫–æ –æ–±—Ö–æ–¥–∏—Ç –µ—ë.

---

### –†–µ—à–µ–Ω–∏–µ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ relationship –ø–æ–ª—è—Ö. –í—Å–µ relationship –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã.

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:

```bash
cd backend/keystonejs-backend

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ backend (Ctrl+C)

# 2. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
rm -rf .keystone
rm -rf node_modules/.cache
rm -rf dist

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
npm run dev
```

---

## üîç –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í–µ—Ä—Å–∏—è KeystoneJS** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è
2. **–ü–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å—Ö–µ–º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **Relationship –ø–æ–ª—è** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ `ref` —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ó–∞–ø—É—Å–∫ –±–µ–∑ Admin UI

–ï—Å–ª–∏ Admin UI –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã API, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å backend –±–µ–∑ –Ω–µ–≥–æ:

–í `keystone.ts` –≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ:

```typescript
ui: {
  isDisabled: process.env.DISABLE_ADMIN_UI === 'true',
  // ...
}
```

–ò –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
DISABLE_ADMIN_UI=true npm run dev
```

GraphQL API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ Admin UI –±—É–¥–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.


