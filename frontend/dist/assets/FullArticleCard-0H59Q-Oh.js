import{d as Ne,a as Pe,c as Ve,u as He,I as Fe,r as s,e as F,L as Ge,U as Oe,w as U,o as Ze,f as qe,i as r,F as W,j as t,G as K,k as M,y as d,N as We,l as b,t as k,s as z,m as v,T as Q,A as Y,M as ie,R as se,K as Ke,q as re,z as Qe,g as Ye,D as Je,E as i,v as Xe,H as et,_ as tt}from"./index-Cha8mMNk.js";import{s as ot}from"./index-CIrCQqjO.js";import{u as at,D as it}from"./DeleteConfirmDialog-CrHiTmEy.js";import{l as st,d as rt,t as lt}from"./articles-Cl6OgbpY.js";const nt={class:"full-article-card"},ct={class:"article-card-header"},ut={class:"username-with-badge"},dt={class:"nickname"},vt={key:0,class:"self-badge"},mt={class:"publication-time"},pt={class:"more-options-wrapper"},ht={class:"article-card-content"},kt={class:"title-row"},ft={class:"article-card-content-title"},gt={key:0,class:"draft-badge"},wt={key:1,class:"edited-badge"},yt={class:"metadata-panel"},Ct=["src"],bt={class:"metadata-text"},_t={class:"tags-container"},xt={class:"article-card-preview"},Dt=["src","alt"],At={key:1,class:"preview-fallback"},Mt={key:2,class:"preview-content"},St={class:"preview-placeholder"},Rt={class:"preview-text"},Lt=["innerHTML"],Tt={class:"article-card-footer"},It={class:"article-actions"},Bt={class:"action-group"},jt=["disabled"],Et=["fill"],Ut={key:1,class:"spinner"},zt={class:"action-count"},$t=["disabled"],Nt=["fill"],Pt={key:1,class:"spinner"},Vt={class:"action-count"},Ht=["fill"],Ft={class:"action-count"},Gt=["fill"],Ot=["stroke","fill"],Zt=["stroke","fill"],qt=["stroke","fill"],Wt=["stroke-width"],Kt=["stroke-width"],Qt=["src","alt"],Yt={class:"report-panel-content"},Jt={class:"report-reasons"},Xt=["value"],eo={class:"reason-title"},to={class:"report-panel-buttons"},oo=["disabled"],ao=3,io=Ne({__name:"FullArticleCard",props:{article:{}},emits:["tagClick","authorClick","articleClick","articleDeleted","deleteArticle","editArticle","reportArticle","shareArticle"],setup(u,{expose:le,emit:ne}){const ce=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='512.000000pt'%20height='512.000000pt'%20viewBox='0%200%20512.000000%20512.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M2230%205098%20c-58%20-40%20-70%20-65%20-86%20-189%20-46%20-351%20-187%20-668%20-418%20-931%20-90%20-104%20-165%20-169%20-352%20-308%20-498%20-373%20-786%20-889%20-835%20-1498%20-40%20-491%20129%20-1027%20448%20-1422%2086%20-106%20251%20-264%20363%20-347%20409%20-302%20905%20-441%201401%20-393%20535%2052%201019%20309%201367%20725%20333%20398%20504%20928%20463%201433%20-38%20476%20-207%20872%20-523%201224%20-97%20107%20-127%20128%20-189%20128%20-70%200%20-102%20-28%20-179%20-156%20-63%20-106%20-176%20-259%20-217%20-296%20-19%20-17%20-19%20-16%20-10%2060%2013%20111%202%20368%20-22%20502%20-72%20411%20-254%20775%20-536%201068%20-124%20129%20-212%20204%20-341%20290%20-197%20131%20-268%20155%20-334%20110z%20m321%20-474%20c251%20-209%20445%20-504%20543%20-826%2056%20-186%2070%20-288%2070%20-498%200%20-209%20-13%20-298%20-71%20-493%20-48%20-161%20-51%20-193%20-21%20-236%2060%20-88%20138%20-100%20235%20-36%20186%20122%20386%20311%20513%20482%2058%2079%2078%2099%2088%2091%2025%20-22%20154%20-222%20196%20-307%20242%20-483%20243%20-1058%203%20-1538%20-141%20-280%20-336%20-501%20-595%20-674%20-373%20-250%20-846%20-343%20-1284%20-255%20-622%20126%20-1113%20562%20-1308%201162%20-180%20553%20-76%201138%20285%201599%2091%20116%20231%20247%20391%20366%20151%20112%20311%20261%20407%20379%20171%20212%20322%20504%20382%20740%209%2036%2021%2082%2026%20103%20l10%2039%2027%20-18%20c15%20-9%2061%20-45%20103%20-80z'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,a=u,G=ne,{react:J}=at(),c=Pe(),ue=Ye(),O=Je(),y=Ve(),{t:l}=He(),{startDelete:de}=Fe(),_=s(a.article.userReaction==="like"),x=s(a.article.userReaction==="dislike"),S=s(a.article.likes||0),R=s(a.article.dislikes||0),f=s(!1),$=s(!1),L=s(!1),m=s(!1),ve=s(a.article.commentsCount||0),D=s(!1),T=s(0),g=s(!1),N=s(!1),C=s([]),P=s(!1),me=s(!1),I=s(!1),B=s(!1),V=s(!1),pe=s(!1),A=s(1),X=s(!1),j=s(!1),he=F(()=>X.value?null:Ge(a.article.author.avatar)),p=F(()=>{if(j.value)return null;const e=a.article.previewImage;return Oe(e)}),Z=F(()=>a.article.author.id?c.user&&a.article.author.id===c.user.id:typeof a.article.author=="string"?c.user&&a.article.author===(c.user.nickname||c.user.username):a.article.author.username?c.user&&a.article.author.username===(c.user.nickname||c.user.username):!1),ke=F(()=>{const e=a.article.updatedAt||a.article.updated_at,o=a.article.createdAt||a.article.created_at;if(!e||!o)return!1;try{const n=new Date(String(o)).getTime(),w=new Date(String(e)).getTime();return!isNaN(n)&&!isNaN(w)&&w>n+6e4}catch{return!1}});U(()=>a.article.userReaction,e=>{_.value=e==="like",x.value=e==="dislike"}),U(()=>a.article.likes,e=>{S.value=e??S.value}),U(()=>a.article.dislikes,e=>{R.value=e??R.value});const fe=async()=>{if(!I.value){I.value=!0;try{const e=await J(a.article.id,"like");S.value=e.likes??0,R.value=e.dislikes??0,_.value=e.userReaction==="like",x.value=e.userReaction==="dislike"}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð»Ð°Ð¹ÐºÐ°:",e)}finally{I.value=!1}}},ge=async()=>{if(!B.value){B.value=!0;try{const e=await J(a.article.id,"dislike");S.value=e.likes??0,R.value=e.dislikes??0,_.value=e.userReaction==="like",x.value=e.userReaction==="dislike"}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð¸Ð·Ð»Ð°Ð¹ÐºÐ°:",e)}finally{B.value=!1}}},H=["success","info","warning","danger","secondary"],E={success:["JavaScript","Vue.js","React","Node.js","Web Development","Frontend","Tutorial","Guide"],info:["Python","TypeScript","Angular","Programming","Backend","Database","SQL","API","REST"],warning:["Design","UI/UX","Mobile Development","Game Development","Unity","Unreal Engine","Review","Interview"],danger:["Security","Testing","Cryptography","DevOps","Docker","Kubernetes","Blockchain"],secondary:["Tools","Git","NoSQL","Fullstack","Artificial Intelligence","Machine Learning","GraphQL","Microservices","Cloud","AWS","Azure","Google Cloud","Linux","Windows","macOS","News","Case Study","Architecture","Algorithms","Design Patterns"]},we=e=>{if(typeof e=="number")return H[e%H.length];const o=e;if(E.success.includes(o))return"success";if(E.info.includes(o))return"info";if(E.warning.includes(o))return"warning";if(E.danger.includes(o))return"danger";if(E.secondary.includes(o))return"secondary";let n=0;for(let h=0;h<o.length;h++)n=o.charCodeAt(h)+((n<<5)-n);const w=Math.abs(n)%H.length;return H[w]},ye=()=>{m.value=!0,G("shareArticle",{id:a.article.id,title:a.article.title})};le({resetShareState:()=>{m.value=!1}});const Ce=e=>{},be=()=>{if(L.value=!L.value,ue.hash!=="#comments")O.replace({hash:"#comments"});else{const e=document.getElementById("comments");e&&(e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{const o=document.querySelector(".comment-input");o&&o.focus()},300))}},ee=()=>{let e;if(a.article.author_id&&a.article.author_id>0?(e=a.article.author_id,console.log("âœ… Using author_id from article:",e)):typeof a.article.author=="object"&&a.article.author&&a.article.author.id>0&&(e=a.article.author.id,console.log("âœ… Using author.id:",e)),e&&e>0){if(c.user&&c.user.id===e){y.add({severity:"info",summary:l("notifications.ownArticle.summary","Ð­Ñ‚Ð¾ Ð²Ð°ÑˆÐ° ÑÑ‚Ð°Ñ‚ÑŒÑ"),detail:l("notifications.ownArticle.detail","Ð’Ñ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° ÑÐ²Ð¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð¸Ð· ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸"),life:3e3});return}console.log("ðŸš€ Navigating to user profile:",e),O.push(`/user/${e}`),G("authorClick",e)}else console.warn("âŒ Cannot navigate to profile: invalid author ID",{author_id:a.article.author_id,author:a.article.author,articleId:a.article.id,authorType:typeof a.article.author})},_e=async()=>{if(!c.isAuthenticated||!c.user){y.add({severity:"warn",summary:l("notifications.authRequired.summary"),detail:l("notifications.authRequired.detail"),life:4e3}),O.push("/auth");return}try{$.value=!0;const e=f.value;f.value=!e;const o=await lt(a.article.id);f.value=o.is_bookmarked,o.was_added?y.add({severity:"success",summary:l("notifications.bookmark.added.summary","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ"),detail:l("notifications.bookmark.added.detail","Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ð¹Ñ‚Ð¸ ÐµÑ‘ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),life:3e3}):y.add({severity:"info",summary:l("notifications.bookmark.removed.summary","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ ÑƒÐ´Ð°Ð»ÐµÐ½Ð° Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),detail:l("notifications.bookmark.removed.detail","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð² ÑÐ¿Ð¸ÑÐºÐµ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),life:3e3}),setTimeout(()=>{$.value=!1},600)}catch(e){f.value=!f.value,$.value=!1,console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¾Ð¹:",e),y.add({severity:"error",summary:l("notifications.bookmark.error.summary","ÐžÑˆÐ¸Ð±ÐºÐ°"),detail:l("notifications.bookmark.error.detail","ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸"),life:3e3})}},xe=()=>{g.value=!g.value},De={get position(){return"fixed"},get top(){const e=document.querySelector(".more-options-wrapper");return e?`${e.getBoundingClientRect().top-10}px`:"0px"},get left(){const e=document.querySelector(".more-options-wrapper");return e?`${e.getBoundingClientRect().left+70}px`:"0px"},get zIndex(){return 5e4}},Ae=async()=>{try{const e=`${window.location.origin}/article/${a.article.id}`;await navigator.clipboard.writeText(e)}catch(e){console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÑÑ‹Ð»ÐºÑƒ:",e)}finally{g.value=!1}};function Me(){g.value=!1,N.value=!0,C.value=[],console.log("[FullArticleCard] open report panel")}const te=e=>{!e.target.closest(".more-options-wrapper")&&g.value&&(g.value=!1)};function Se(e){const o=e.target;T.value<ao&&p.value?(T.value++,D.value=!1,j.value=!1,setTimeout(()=>{o&&p.value&&(o.src="",setTimeout(()=>{p.value&&o&&(o.src=p.value)},50))},500*T.value)):(D.value=!0,j.value=!0)}function Re(){D.value=!1,j.value=!1,T.value=0}U(()=>a.article.author.avatar,()=>{X.value=!1}),U(()=>a.article.previewImage,(e,o)=>{e!==o&&(D.value=!1,j.value=!1,T.value=0)});const oe=e=>{e.key==="Escape"&&V.value&&q()};Ze(async()=>{if(document.addEventListener("click",te),window.addEventListener("keydown",oe),c.isAuthenticated&&c.user)try{const e=await st(a.article.id);f.value=e.is_bookmarked}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸:",e)}}),qe(()=>{document.removeEventListener("click",te),window.removeEventListener("keydown",oe)});const Le=[{id:"spam",title:"Spam",description:"Unwanted commercial content or repetitive messages"},{id:"harassment",title:"Harassment",description:"Bullying, threats, or personal attacks"},{id:"hate",title:"Hate Speech",description:"Content promoting violence or hatred"},{id:"inappropriate",title:"Inappropriate Content",description:"Sexual, violent, or disturbing content"},{id:"misinformation",title:"Misinformation",description:"False or misleading information"}],ae=()=>{N.value=!1,C.value=[]},Te=()=>{console.log("Report article:",a.article.id,"Reasons:",C.value),N.value=!1,C.value=[]},Ie=()=>{g.value=!1,P.value=!0},Be=async()=>{if(!c.user)return;P.value=!1;const e=a.article.id;de(`article-${e}`,"article",async()=>{try{await rt(e),G("articleDeleted",e),y.add({severity:"success",summary:l("notifications.deleteArticle.success.summary"),detail:l("notifications.deleteArticle.success.detail"),life:3e3})}catch(o){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚ÑŒÐ¸:",o),y.add({severity:"error",summary:l("notifications.deleteArticle.error.summary"),detail:l("notifications.deleteArticle.error.detail"),life:3e3})}},{message:l("notifications.undoDelete.article.message"),onUndo:async()=>{y.add({severity:"info",summary:l("notifications.article.delete.cancelled.summary"),detail:l("notifications.article.delete.cancelled.detail"),life:2e3})}})},je=()=>{P.value=!1},Ee=e=>{const o=typeof e=="string"?new Date(e):e,w=new Date().getTime()-o.getTime(),h=Math.floor(w/(1e3*60*60*24));return h===0?"Today":h===1?"Yesterday":h<7?`${h} days ago`:h<30?`${Math.floor(h/7)} weeks ago`:o.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})},Ue=e=>{switch(e){case"easy":return"Easy";case"medium":return"Medium";case"hard":return"Hard";default:return"Medium"}};function ze(){V.value=!0,A.value=1;try{document.body.style.overflow="hidden"}catch{}}function q(){V.value=!1,pe.value=!1,A.value=1;try{document.body.style.overflow=""}catch{}}function $e(){A.value=A.value>=3?1:A.value+1}return(e,o)=>(i(),r(W,null,[t("div",nt,[t("div",ct,[t("div",{class:"logo",onClick:d(ee,["stop"])},[M(We,{src:he.value||null,alt:u.article.author.username},null,8,["src","alt"])]),t("div",{class:"nickname-container",onClick:d(ee,["stop"])},[t("div",ut,[t("h2",dt,k(u.article.author.username),1),Z.value?(i(),r("span",vt,k(z(l)("labels.you")),1)):b("",!0)]),t("h2",mt,k(Ee(u.article.createdAt)),1)]),t("div",pt,[(i(),r("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:v(["more-options-icon",{active:g.value}]),onClick:d(xe,["stop"])},[...o[4]||(o[4]=[t("path",{d:"M24 26C25.1046 26 26 25.1046 26 24C26 22.8954 25.1046 22 24 22C22.8954 22 22 22.8954 22 24C22 25.1046 22.8954 26 24 26Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("path",{d:"M24 12C25.1046 12 26 11.1046 26 10C26 8.89543 25.1046 8 24 8C22.8954 8 22 8.89543 22 10C22 11.1046 22.8954 12 24 12Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("path",{d:"M24 40C25.1046 40 26 39.1046 26 38C26 36.8954 25.1046 36 24 36C22.8954 36 22 36.8954 22 38C22 39.1046 22.8954 40 24 40Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2)),M(Q,{name:"dropdown-fade"},{default:Y(()=>[(i(),K(se,{to:"body"},[g.value?(i(),r("div",{key:0,class:"options-dropdown",style:ie(z(De)),onClick:o[0]||(o[0]=d(()=>{},["stop"]))},[t("button",{class:"dropdown-item",onClick:Ae},[...o[5]||(o[5]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10 13a5 5 0 0 1 7.07 0l1.41 1.41a5 5 0 0 1 0 7.07v0a5 5 0 0 1-7.07 0l-1.41-1.41",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14 11a5 5 0 0 1-7.07 0L5.5 9.57a5 5 0 0 1 0-7.07v0a5 5 0 0 1 7.07 0L14 3.91",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Copy link",-1)])]),Z.value?(i(),r("button",{key:0,class:"dropdown-item danger",onClick:Ie},[...o[6]||(o[6]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 6h18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M10 11v6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14 11v6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Delete",-1)])])):b("",!0),Z.value?b("",!0):(i(),r("button",{key:1,class:"dropdown-item danger",onClick:Me},[...o[7]||(o[7]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10.29 3.86L1.82 18c-.175.302-.267.645-.268.994-.001.35.089.693.262.997.173.303.423.556.724.733.3.177.642.272.991.276H20.47c.349-.004.691-.099.992-.276.301-.177.55-.43.723-.733.173-.304.263-.647.262-.997-.001-.349-.093-.692-.268-.994L13.71 3.86A2.5 2.5 0 0 0 12 2.897a2.5 2.5 0 0 0-1.71.963Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 9v4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 17h.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Report",-1)])]))],4)):b("",!0)]))]),_:1})])]),t("div",ht,[t("div",kt,[t("h1",ft,k(u.article.title),1),u.article.status==="draft"?(i(),r("span",gt,"Draft")):b("",!0),ke.value?(i(),r("span",wt,"Edited")):b("",!0)]),t("div",yt,[t("div",{class:v(["metadata-item difficulty",`difficulty-${u.article.difficulty||"medium"}`])},[t("img",{class:"metadata-icon",src:z(ce),alt:"Difficulty",width:"16",height:"16"},null,8,Ct),t("span",bt,k(Ue(u.article.difficulty)),1)],2),o[8]||(o[8]=Ke('<div class="metadata-item time" data-v-b8d04888><i class="pi pi-clock metadata-icon" data-v-b8d04888></i><span class="metadata-text" data-v-b8d04888>22 min</span></div><div class="metadata-item views" data-v-b8d04888><i class="pi pi-eye metadata-icon" data-v-b8d04888></i><span class="metadata-text" data-v-b8d04888>3</span></div>',2))]),t("div",_t,[(i(!0),r(W,null,re(u.article.tags,n=>(i(),K(z(ot),{key:n,value:n,severity:we(n),class:"custom-tag",onClick:d(w=>Ce(),["stop"])},null,8,["value","severity","onClick"]))),128))]),t("div",xt,[p.value&&!D.value?(i(),r("div",{key:0,class:"preview-image",style:ie({"--preview-bg":`url(${p.value})`}),onClick:d(ze,["stop"])},[(i(),r("img",{key:`preview-${u.article.id}-${p.value}`,src:p.value,alt:u.article.title,class:"preview-img",onError:Se,onLoad:Re,loading:"lazy",referrerpolicy:"no-referrer",decoding:"async"},null,40,Dt)),o[9]||(o[9]=t("div",{class:"preview-indicator"},[t("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"})])],-1))],4)):p.value&&D.value?(i(),r("div",At,[...o[10]||(o[10]=[t("span",{class:"preview-fallback-text"}," Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¾ Ð¸Ð·-Ð·Ð° Ð¿Ð»Ð¾Ñ…Ð¾Ð³Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ñ ",-1)])])):(i(),r("div",Mt,[t("div",St,[o[11]||(o[11]=t("i",{class:"pi pi-image preview-icon"},null,-1)),t("span",Rt,k(e.$t("common.articlePreview")),1)])]))]),t("div",{class:"article-card-content-text full-content",innerHTML:u.article.content},null,8,Lt)]),t("div",Tt,[t("div",It,[t("div",Bt,[t("button",{class:v(["action-btn like-btn",{active:_.value}]),onClick:d(fe,["stop"]),disabled:I.value},[I.value?(i(),r("div",Ut)):(i(),r("svg",{key:0,class:v(["heart-icon",{filled:_.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:_.value?"currentColor":"none"},null,8,Et)],2)),t("span",zt,k(S.value),1)],10,jt),t("button",{class:v(["action-btn dislike-btn",{active:x.value}]),onClick:d(ge,["stop"]),disabled:B.value},[B.value?(i(),r("div",Pt)):(i(),r("svg",{key:0,class:v(["dislike-icon",{filled:x.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:x.value?"currentColor":"none"},null,8,Nt)],2)),t("span",Vt,k(R.value),1)],10,$t),t("button",{class:v(["action-btn comment-btn",{active:L.value}]),onClick:d(be,["stop"])},[(i(),r("svg",{class:v(["comment-icon",{filled:L.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:L.value?"currentColor":"none"},null,8,Ht)],2)),t("span",Ft,k(ve.value),1)],2),t("button",{class:v(["action-btn bookmark-btn",{active:f.value,pulse:$.value}]),onClick:d(_e,["stop"])},[(i(),r("svg",{class:v(["bookmark-icon",{filled:f.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:f.value?"currentColor":"none"},null,8,Gt)],2))],2),t("button",{class:v(["action-btn share-btn",{active:m.value}]),onClick:d(ye,["stop"])},[(i(),r("svg",{class:v(["share-icon",{filled:m.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"18",cy:"5",r:"3",stroke:m.value?"none":"currentColor","stroke-width":"2",fill:m.value?"currentColor":"none"},null,8,Ot),t("circle",{cx:"6",cy:"12",r:"3",stroke:m.value?"none":"currentColor","stroke-width":"2",fill:m.value?"currentColor":"none"},null,8,Zt),t("circle",{cx:"18",cy:"19",r:"3",stroke:m.value?"none":"currentColor","stroke-width":"2",fill:m.value?"currentColor":"none"},null,8,qt),t("path",{d:"m8.59 13.51 6.83 3.98",stroke:"currentColor","stroke-width":m.value?"3":"2","stroke-linecap":"round"},null,8,Wt),t("path",{d:"m15.41 6.51-6.82 3.98",stroke:"currentColor","stroke-width":m.value?"3":"2","stroke-linecap":"round"},null,8,Kt)],2))],2)])])])]),(i(),K(se,{to:"body"},[M(Q,{name:"image-fade"},{default:Y(()=>[V.value?(i(),r("div",{key:0,class:"image-preview-overlay",onClick:q},[t("div",{class:"image-preview-content",onClick:o[1]||(o[1]=d(()=>{},["stop"]))},[t("div",{class:v(["image-zoom-box",[`zoom-${A.value}`]])},[t("img",{src:p.value||"",alt:u.article.title,class:"image-preview-img",onClick:d($e,["stop"])},null,8,Qt),t("button",{class:"image-preview-close",onClick:q,"aria-label":"Close preview"},"Ã—")],2)])])):b("",!0)]),_:1})])),M(Q,{name:"report-fade"},{default:Y(()=>[N.value?(i(),r("div",{key:0,class:"report-panel-overlay",onClick:ae},[t("div",{class:"report-panel",onClick:o[3]||(o[3]=d(()=>{},["stop"]))},[t("div",Yt,[o[13]||(o[13]=t("h3",{class:"report-panel-title"},"Report Article",-1)),o[14]||(o[14]=t("p",{class:"report-panel-subtitle"},"Select the reason for reporting:",-1)),t("div",Jt,[(i(),r(W,null,re(Le,n=>t("label",{key:n.id,class:v(["reason-item",{selected:C.value.includes(n.id)}])},[Xe(t("input",{type:"checkbox",value:n.id,"onUpdate:modelValue":o[2]||(o[2]=w=>C.value=w),class:"reason-checkbox"},null,8,Xt),[[et,C.value]]),o[12]||(o[12]=t("span",{class:"reason-checkmark"},null,-1)),t("span",eo,k(n.title),1)],2)),64))]),t("div",to,[t("button",{class:"report-panel-button cancel",onClick:ae},"Cancel"),t("button",{class:"report-panel-button confirm",onClick:Te,disabled:C.value.length===0}," Submit Report ",8,oo)])])])])):b("",!0)]),_:1}),M(it,{visible:P.value,"article-title":u.article.title,loading:me.value,onConfirm:Be,onCancel:je},null,8,["visible","article-title","loading"]),M(z(Qe))],64))}}),uo=tt(io,[["__scopeId","data-v-b8d04888"]]);export{uo as F};
