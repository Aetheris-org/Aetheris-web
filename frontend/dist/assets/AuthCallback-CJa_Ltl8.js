import{d as c,r as i,o as u,g as d,D as p,i as o,j as e,t as k,E as r,_ as v}from"./index-Cha8mMNk.js";const _={class:"callback-page"},f={class:"callback-container"},h={key:0,class:"error-state"},m={key:1,class:"loading-state"},g=c({__name:"AuthCallback",setup(w){const a=d(),n=p(),t=i(null);return u(()=>{if(!a.query.access_token){console.error("❌ No access token in URL params:",a.query),t.value="Токен авторизации не найден",setTimeout(()=>n.replace("/auth"),3e3);return}setTimeout(()=>{t.value===null&&(console.warn("⚠️ Router guard did not redirect, showing error"),t.value="Ошибка обработки авторизации",setTimeout(()=>n.replace("/auth"),3e3))},2e3)}),(l,s)=>(r(),o("div",_,[e("div",f,[t.value?(r(),o("div",h,[s[0]||(s[0]=e("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"#ef4444","stroke-width":"2"}),e("path",{d:"M12 8v4M12 16h.01",stroke:"#ef4444","stroke-width":"2","stroke-linecap":"round"})],-1)),s[1]||(s[1]=e("h2",null,"Ошибка авторизации",-1)),e("p",null,k(t.value),1),s[2]||(s[2]=e("p",{class:"redirect-text"},"Перенаправление на страницу входа...",-1))])):(r(),o("div",m,[...s[3]||(s[3]=[e("div",{class:"spinner"},null,-1),e("h2",null,"Завершаем вход...",-1),e("p",null,"Получаем ваши данные",-1)])]))])]))}}),y=v(g,[["__scopeId","data-v-6d1e9fbf"]]);export{y as default};
