import{d as Je,a as Xe,c as et,u as tt,I as ot,r,e as P,L as at,U as J,w as N,o as ve,f as me,i as l,j as t,G as X,k as H,y as d,N as it,l as y,t as w,s as W,m,A as ee,M as fe,R as he,T as te,K as rt,F as oe,q as pe,v as ke,x as st,D as lt,E as i,H as nt,n as ct,_ as ut}from"./index-Cha8mMNk.js";import{s as dt}from"./index-CIrCQqjO.js";import{u as vt,D as mt}from"./DeleteConfirmDialog-CrHiTmEy.js";import{l as ft,t as ht,d as pt}from"./articles-Cl6OgbpY.js";const kt={class:"article-card"},wt={class:"article-card-header"},gt={class:"username-with-badge"},yt={class:"nickname"},Ct={key:0,class:"self-badge"},bt={class:"publication-time"},xt={class:"article-card-content"},_t={class:"title-row"},At={class:"article-card-content-title"},Dt={key:0,class:"draft-badge"},Lt={key:1,class:"edited-badge"},Mt={class:"metadata-panel"},St=["src"],Rt={class:"metadata-text"},It={class:"tags-container"},Tt={class:"article-card-preview"},Et=["src","alt"],jt={key:0,class:"preview-loading"},Bt={class:"preview-indicator"},zt={key:1,class:"preview-fallback"},Ut={key:2,class:"preview-content"},$t={class:"preview-placeholder"},Pt={class:"preview-text"},Nt=["data-text"],Ht={class:"article-card-footer"},Vt={class:"article-actions"},Ot={key:0,class:"action-group"},qt=["disabled"],Gt=["fill"],Zt={key:1,class:"spinner"},Ft={class:"action-count"},Wt=["disabled"],Kt=["fill"],Qt={key:1,class:"spinner"},Yt={class:"action-count"},Jt=["fill"],Xt={class:"action-count"},eo=["fill"],to=["stroke","fill"],oo=["stroke","fill"],ao=["stroke","fill"],io=["stroke-width"],ro=["stroke-width"],so=["src","alt"],lo={class:"report-panel-content"},no={class:"report-reasons"},co=["value"],uo={class:"reason-title"},vo={class:"report-panel-buttons"},mo=["disabled"],fo=3,ho=Je({__name:"ArticleCard",props:{article:{}},emits:["tagClick","authorClick","articleClick","articleDeleted","deleteArticle","editArticle","reportArticle","shareArticle"],setup(v,{expose:we,emit:ge}){const ye=new URL("data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='512.000000pt'%20height='512.000000pt'%20viewBox='0%200%20512.000000%20512.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,512.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M2230%205098%20c-58%20-40%20-70%20-65%20-86%20-189%20-46%20-351%20-187%20-668%20-418%20-931%20-90%20-104%20-165%20-169%20-352%20-308%20-498%20-373%20-786%20-889%20-835%20-1498%20-40%20-491%20129%20-1027%20448%20-1422%2086%20-106%20251%20-264%20363%20-347%20409%20-302%20905%20-441%201401%20-393%20535%2052%201019%20309%201367%20725%20333%20398%20504%20928%20463%201433%20-38%20476%20-207%20872%20-523%201224%20-97%20107%20-127%20128%20-189%20128%20-70%200%20-102%20-28%20-179%20-156%20-63%20-106%20-176%20-259%20-217%20-296%20-19%20-17%20-19%20-16%20-10%2060%2013%20111%202%20368%20-22%20502%20-72%20411%20-254%20775%20-536%201068%20-124%20129%20-212%20204%20-341%20290%20-197%20131%20-268%20155%20-334%20110z%20m321%20-474%20c251%20-209%20445%20-504%20543%20-826%2056%20-186%2070%20-288%2070%20-498%200%20-209%20-13%20-298%20-71%20-493%20-48%20-161%20-51%20-193%20-21%20-236%2060%20-88%20138%20-100%20235%20-36%20186%20122%20386%20311%20513%20482%2058%2079%2078%2099%2088%2091%2025%20-22%20154%20-222%20196%20-307%20242%20-483%20243%20-1058%203%20-1538%20-141%20-280%20-336%20-501%20-595%20-674%20-373%20-250%20-846%20-343%20-1284%20-255%20-622%20126%20-1113%20562%20-1308%201162%20-180%20553%20-76%201138%20285%201599%2091%20116%20231%20247%20391%20366%20151%20112%20311%20261%20407%20379%20171%20212%20322%20504%20382%20740%209%2036%2021%2082%2026%20103%20l10%2039%2027%20-18%20c15%20-9%2061%20-45%20103%20-80z'/%3e%3c/g%3e%3c/svg%3e",import.meta.url).href,a=v,A=ge,{react:ae}=vt(),c=Xe(),D=lt(),f=et(),{t:s}=tt(),{startDelete:Ce}=ot(),S=r(a.article.userReaction==="like"),R=r(a.article.userReaction==="dislike"),E=r(a.article.likes||0),j=r(a.article.dislikes||0),x=r(!1),V=r(!1),B=r(!1),h=r(!1),z=r(!1),U=r(!1),be=r(a.article.commentsCount||0),g=r(!1),p=r(!1),I=r(0),L=r(!1),k=r(!1),K=r(!1),M=r([]),O=r(!1),xe=r(!1),q=r(!1),_e=r(!1),T=r(1),ie=r(!1),_=r(!1),Ae=P(()=>ie.value?null:at(a.article.author.avatar)),C=P(()=>_.value?null:J(a.article.previewImage)),G=P(()=>{if(console.log("ðŸ” Checking isAuthor:",{"authStore.user":c.user,"article.author":a.article.author,"article.author.id":a.article.author.id,"article.author.username":a.article.author.username}),a.article.author.id){const e=c.user&&a.article.author.id===c.user.id;return console.log("ðŸ” ID comparison result:",e),e}if(typeof a.article.author=="string"){const e=c.user&&a.article.author===(c.user.nickname||c.user.username);return console.log("ðŸ” String username comparison result:",e),e}if(a.article.author.username){const e=c.user&&a.article.author.username===(c.user.nickname||c.user.username);return console.log("ðŸ” Object username comparison result:",e),e}return console.log("ðŸ” No match found, returning false"),!1}),De=P(()=>{const e=a.article.updatedAt||a.article.updated_at,o=a.article.createdAt||a.article.created_at;if(!e||!o)return!1;try{const n=new Date(String(o)).getTime(),u=new Date(String(e)).getTime();return!isNaN(n)&&!isNaN(u)&&u>n+6e4}catch{return!1}});N(()=>a.article.userReaction,e=>{S.value=e==="like",R.value=e==="dislike"}),N(()=>a.article.likes,e=>{E.value=e??E.value}),N(()=>a.article.dislikes,e=>{j.value=e??j.value}),N(()=>a.article.author.avatar,()=>{ie.value=!1}),N(()=>a.article.previewImage,(e,o)=>{if(e!==o){g.value=!1,_.value=!1,p.value=!0,L.value=!1,I.value=0;const n=J(e);if(n){const u=new Image;u.onload=()=>{L.value=!0,p.value=!1,g.value=!1,_.value=!1},u.onerror=()=>{},u.src=n}else g.value=!0,_.value=!0,p.value=!1}});const Le=async()=>{if(!c.isAuthenticated){f.add({severity:"warn",summary:s("notifications.authRequired.summary"),detail:s("notifications.authRequired.detail"),life:4e3}),D.push("/auth");return}if(!z.value){z.value=!0;try{const e=await ae(a.article.id,"like");E.value=e.likes??0,j.value=e.dislikes??0,S.value=e.userReaction==="like",R.value=e.userReaction==="dislike"}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð»Ð°Ð¹ÐºÐ°:",e)}finally{z.value=!1}}},Me=async()=>{if(!c.isAuthenticated){f.add({severity:"warn",summary:s("notifications.authRequired.summary"),detail:s("notifications.authRequired.detail"),life:4e3}),D.push("/auth");return}if(!U.value){U.value=!0;try{const e=await ae(a.article.id,"dislike");E.value=e.likes??0,j.value=e.dislikes??0,S.value=e.userReaction==="like",R.value=e.userReaction==="dislike"}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð´Ð¸Ð·Ð»Ð°Ð¹ÐºÐ°:",e)}finally{U.value=!1}}},Z=["success","info","warning","danger","secondary"],$={success:["JavaScript","Vue.js","React","Node.js","Web Development","Frontend","Tutorial","Guide"],info:["Python","TypeScript","Angular","Programming","Backend","Database","SQL","API","REST"],warning:["Design","UI/UX","Mobile Development","Game Development","Unity","Unreal Engine","Review","Interview"],danger:["Security","Testing","Cryptography","DevOps","Docker","Kubernetes","Blockchain"],secondary:["Tools","Git","NoSQL","Fullstack","Artificial Intelligence","Machine Learning","GraphQL","Microservices","Cloud","AWS","Azure","Google Cloud","Linux","Windows","macOS","News","Case Study","Architecture","Algorithms","Design Patterns"]},Se=e=>{if(typeof e=="number")return Z[e%Z.length];const o=e;if($.success.includes(o))return"success";if($.info.includes(o))return"info";if($.warning.includes(o))return"warning";if($.danger.includes(o))return"danger";if($.secondary.includes(o))return"secondary";let n=0;for(let b=0;b<o.length;b++)n=o.charCodeAt(b)+((n<<5)-n);const u=Math.abs(n)%Z.length;return Z[u]},Re=()=>{h.value=!0,A("shareArticle",{id:a.article.id,title:a.article.title})};we({resetShareState:()=>{h.value=!1}});const Ie=e=>{A("tagClick",e)},Te=()=>{if(!c.isAuthenticated){f.add({severity:"warn",summary:s("notifications.authRequired.summary"),detail:s("notifications.authRequired.detail"),life:4e3}),D.push("/auth");return}B.value=!B.value,D.push(`/article/${a.article.id}#comments`)},Ee=()=>{A("articleClick",a.article.id)},re=()=>{let e;if(a.article.author_id&&a.article.author_id>0?(e=a.article.author_id,console.log("âœ… Using author_id from article:",e)):typeof a.article.author=="object"&&a.article.author&&a.article.author.id>0&&(e=a.article.author.id,console.log("âœ… Using author.id:",e)),e&&e>0){if(c.user&&c.user.id===e){f.add({severity:"info",summary:s("notifications.ownArticle.summary","Ð­Ñ‚Ð¾ Ð²Ð°ÑˆÐ° ÑÑ‚Ð°Ñ‚ÑŒÑ"),detail:s("notifications.ownArticle.detail","Ð’Ñ‹ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° ÑÐ²Ð¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð¸Ð· ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸"),life:3e3});return}console.log("ðŸš€ Navigating to user profile:",e),D.push(`/user/${e}`),A("authorClick",e)}else console.warn("âŒ Cannot navigate to profile: invalid author ID",{author_id:a.article.author_id,author:a.article.author,articleId:a.article.id,authorType:typeof a.article.author})},je=async()=>{if(!c.isAuthenticated||!c.user){f.add({severity:"warn",summary:s("notifications.authRequired.summary"),detail:s("notifications.authRequired.detail"),life:4e3}),D.push("/auth");return}try{V.value=!0;const e=x.value;x.value=!e;const o=await ht(a.article.id);x.value=o.is_bookmarked,o.was_added?f.add({severity:"success",summary:s("notifications.bookmark.added.summary","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð² Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ"),detail:s("notifications.bookmark.added.detail","Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ð¹Ñ‚Ð¸ ÐµÑ‘ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),life:3e3}):f.add({severity:"info",summary:s("notifications.bookmark.removed.summary","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ ÑƒÐ´Ð°Ð»ÐµÐ½Ð° Ð¸Ð· Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),detail:s("notifications.bookmark.removed.detail","Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ðµ Ð² ÑÐ¿Ð¸ÑÐºÐµ Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ð³Ð¾"),life:3e3}),setTimeout(()=>{V.value=!1},600)}catch(e){x.value=!x.value,V.value=!1,console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ Ñ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¾Ð¹:",e),f.add({severity:"error",summary:s("notifications.bookmark.error.summary","ÐžÑˆÐ¸Ð±ÐºÐ°"),detail:s("notifications.bookmark.error.detail","ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸"),life:3e3})}},Be=e=>{const o=typeof e=="string"?new Date(e):e,u=new Date().getTime()-o.getTime(),b=Math.floor(u/(1e3*60*60*24));return b===0?"Today":b===1?"Yesterday":b<7?`${b} days ago`:b<30?`${Math.floor(b/7)} weeks ago`:o.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})};function ze(e){const o=e.target;I.value<fo&&C.value?(I.value++,p.value=!0,g.value=!1,setTimeout(()=>{o&&C.value&&(o.src="",setTimeout(()=>{C.value&&o&&(o.src=C.value)},50))},500*I.value)):(g.value=!0,_.value=!0,p.value=!1,L.value=!1)}function Ue(){g.value=!1,_.value=!1,p.value=!1,L.value=!0,I.value=0}function $e(){L.value||(p.value=!0,g.value=!1)}const Q=r(null),se=r({position:"fixed",top:"0px",left:"0px",zIndex:1000003}),F=()=>{if(!Q.value)return;const e=Q.value.getBoundingClientRect();se.value={position:"fixed",top:`${e.top-10}px`,left:`${e.left+70}px`,zIndex:1000003}},Pe=()=>{k.value=!k.value,k.value&&ct(()=>{F()})},le=()=>{k.value&&F()};function Ne(){k.value=!1,A("reportArticle",{id:a.article.id,title:a.article.title}),console.log("[ArticleCard] emit report-article event")}const He=async()=>{k.value=!1;try{const e=`${window.location.origin}/article/${a.article.id}`;await navigator.clipboard.writeText(e),f.add({severity:"success",summary:s("notifications.copyLink.success.summary"),detail:s("notifications.copyLink.success.detail"),life:3e3})}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸ ÑÑÑ‹Ð»ÐºÐ¸:",e),f.add({severity:"error",summary:s("notifications.copyLink.error.summary"),detail:s("notifications.copyLink.error.detail"),life:3e3})}},ne=e=>{const o=e.target,n=o.closest(".more-options-wrapper"),u=o.closest(".options-dropdown");!n&&!u&&k.value&&(k.value=!1)};ve(async()=>{document.addEventListener("click",ne),window.addEventListener("scroll",le,!0),window.addEventListener("resize",F);const e=J(a.article.previewImage);if(e){p.value=!0,g.value=!1,_.value=!1,L.value=!1,I.value=0;const o=new Image;o.onload=()=>{L.value=!0},o.onerror=()=>{p.value=!0},o.src=e}else g.value=!0,_.value=!0,p.value=!1;if(c.isAuthenticated&&c.user)try{const o=await ft(a.article.id);x.value=o.is_bookmarked}catch(o){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸:",o)}}),me(()=>{document.removeEventListener("click",ne)});function ce(e){e.key==="Escape"&&q.value&&Y()}ve(()=>{window.addEventListener("keydown",ce)}),me(()=>{window.removeEventListener("keydown",ce),window.removeEventListener("scroll",le,!0),window.removeEventListener("resize",F)});function Ve(){q.value=!0,T.value=1;try{document.body.style.overflow="hidden"}catch{}}function Y(){q.value=!1,_e.value=!1,T.value=1;try{document.body.style.overflow=""}catch{}}function Oe(){T.value=T.value>=3?1:T.value+1}const qe=[{id:"spam",title:"Spam",description:"Unwanted commercial content or repetitive messages"},{id:"harassment",title:"Harassment",description:"Bullying, threats, or personal attacks"},{id:"hate",title:"Hate Speech",description:"Content promoting violence or hatred"},{id:"inappropriate",title:"Inappropriate Content",description:"Sexual, violent, or disturbing content"},{id:"misinformation",title:"Misinformation",description:"False or misleading information"}],ue=()=>{K.value=!1,M.value=[]},Ge=()=>{console.log("Report article:",a.article.id,"Reasons:",M.value),K.value=!1,M.value=[]},Ze=()=>{k.value=!1,A("editArticle",{id:a.article.id,title:a.article.title}),D.push(`/edit-article/${a.article.id}`)},Fe=()=>{console.log("Delete button clicked!"),k.value=!1,O.value=!0},We=async()=>{if(!c.user)return;O.value=!1;const e=a.article.id;Ce(`article-${e}`,"article",async()=>{try{await pt(e),A("articleDeleted",e),f.add({severity:"success",summary:s("notifications.deleteArticle.success.summary"),detail:s("notifications.deleteArticle.success.detail"),life:3e3})}catch(o){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚ÑŒÐ¸:",o),f.add({severity:"error",summary:s("notifications.deleteArticle.error.summary"),detail:s("notifications.deleteArticle.error.detail"),life:3e3})}},{message:"Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð±ÑƒÐ´ÐµÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½Ð°",onUndo:async()=>{f.add({severity:"info",summary:"Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð¾",detail:"Ð¡Ñ‚Ð°Ñ‚ÑŒÑ Ð½Ðµ Ð±Ñ‹Ð»Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð°",life:2e3})}})},Ke=()=>{O.value=!1},Qe=e=>{if(!e)return"";const o=document.createElement("div");o.innerHTML=e;const n=o.textContent||o.innerText||"",u=document.createElement("textarea");return u.innerHTML=n,u.value},de=P(()=>{const e=a.article.excerpt||a.article.content;return e?Qe(e):""}),Ye=e=>{switch(e){case"easy":return"Easy";case"medium":return"Medium";case"hard":return"Hard";default:return"Medium"}};return(e,o)=>(i(),l(oe,null,[t("div",kt,[t("div",wt,[t("div",{class:"logo",onClick:d(re,["stop"])},[H(it,{src:Ae.value||null,alt:v.article.author.username},null,8,["src","alt"])]),t("div",{class:"nickname-container",onClick:d(re,["stop"])},[t("div",gt,[t("h2",yt,w(v.article.author.username),1),G.value?(i(),l("span",Ct,w(W(s)("labels.you")),1)):y("",!0)]),t("h2",bt,w(Be(v.article.createdAt)),1)]),t("div",{class:"more-options-wrapper",ref_key:"moreMenuRef",ref:Q},[(i(),l("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:m(["more-options-icon",{active:k.value}]),onClick:d(Pe,["stop"])},[...o[4]||(o[4]=[t("path",{d:"M24 26C25.1046 26 26 25.1046 26 24C26 22.8954 25.1046 22 24 22C22.8954 22 22 22.8954 22 24C22 25.1046 22.8954 26 24 26Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("path",{d:"M24 12C25.1046 12 26 11.1046 26 10C26 8.89543 25.1046 8 24 8C22.8954 8 22 8.89543 22 10C22 11.1046 22.8954 12 24 12Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("path",{d:"M24 40C25.1046 40 26 39.1046 26 38C26 36.8954 25.1046 36 24 36C22.8954 36 22 36.8954 22 38C22 39.1046 22.8954 40 24 40Z",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2)),H(te,{name:"dropdown-fade"},{default:ee(()=>[(i(),X(he,{to:"body"},[k.value?(i(),l("div",{key:0,class:"options-dropdown",style:fe(se.value),onClick:o[0]||(o[0]=d(()=>{},["stop"]))},[t("button",{class:"dropdown-item",onClick:He},[...o[5]||(o[5]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10 13a5 5 0 0 1 7.07 0l1.41 1.41a5 5 0 0 1 0 7.07v0a5 5 0 0 1-7.07 0l-1.41-1.41",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14 11a5 5 0 0 1-7.07 0L5.5 9.57a5 5 0 0 1 0-7.07v0a5 5 0 0 1 7.07 0L14 3.91",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Copy link",-1)])]),G.value?(i(),l("button",{key:0,class:"dropdown-item",onClick:Ze},[...o[6]||(o[6]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"m18.5 2.5 3 3L12 15l-4 1 1-4 9.5-9.5z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Edit",-1)])])):y("",!0),G.value?(i(),l("button",{key:1,class:"dropdown-item danger",onClick:Fe},[...o[7]||(o[7]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M3 6h18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M10 11v6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M14 11v6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Delete",-1)])])):y("",!0),G.value?y("",!0):(i(),l("button",{key:2,class:"dropdown-item danger",onClick:Ne},[...o[8]||(o[8]=[t("svg",{width:"23",height:"23",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10.29 3.86L1.82 18c-.175.302-.267.645-.268.994-.001.35.089.693.262.997.173.303.423.556.724.733.3.177.642.272.991.276H20.47c.349-.004.691-.099.992-.276.301-.177.55-.43.723-.733.173-.304.263-.647.262-.997-.001-.349-.093-.692-.268-.994L13.71 3.86A2.5 2.5 0 0 0 12 2.897a2.5 2.5 0 0 0-1.71.963Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 9v4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 17h.01",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),t("span",null,"Report",-1)])]))],4)):y("",!0)]))]),_:1})],512)]),t("div",xt,[t("div",_t,[t("h2",At,w(v.article.title),1),v.article.status==="draft"?(i(),l("span",Dt,"Draft")):y("",!0),De.value?(i(),l("span",Lt,"Edited")):y("",!0)]),t("div",Mt,[t("div",{class:m(["metadata-item difficulty",`difficulty-${v.article.difficulty||"medium"}`])},[t("img",{class:"metadata-icon",src:W(ye),alt:"Difficulty",width:"16",height:"16"},null,8,St),t("span",Rt,w(Ye(v.article.difficulty)),1)],2),o[9]||(o[9]=rt('<div class="metadata-item time" data-v-78937b76><i class="pi pi-clock metadata-icon" data-v-78937b76></i><span class="metadata-text" data-v-78937b76>22 min</span></div><div class="metadata-item views" data-v-78937b76><i class="pi pi-eye metadata-icon" data-v-78937b76></i><span class="metadata-text" data-v-78937b76>3</span></div>',2))]),t("div",It,[(i(!0),l(oe,null,pe(v.article.tags,n=>(i(),X(W(dt),{key:n,value:n,severity:Se(n),class:"custom-tag",onClick:d(u=>Ie(n),["stop"])},null,8,["value","severity","onClick"]))),128))]),t("div",Tt,[C.value&&!g.value?(i(),l("div",{key:0,class:"preview-image",style:fe({"--preview-bg":`url(${C.value})`}),onClick:d(Ve,["stop"])},[(i(),l("img",{key:`preview-${v.article.id}-${C.value}`,src:C.value,alt:v.article.title,class:"preview-img",onError:ze,onLoad:Ue,onLoadstart:$e,loading:"lazy",referrerpolicy:"no-referrer",decoding:"async"},null,40,Et)),p.value?(i(),l("div",jt,[...o[10]||(o[10]=[t("div",{class:"preview-loading-spinner"},null,-1)])])):y("",!0),ke(t("div",Bt,[...o[11]||(o[11]=[t("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),t("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"})],-1)])],512),[[st,!p.value]])],4)):C.value&&g.value?(i(),l("div",zt,[...o[12]||(o[12]=[t("span",{class:"preview-fallback-text"}," Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð±Ñ‹Ð»Ð¾ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¾ Ð¸Ð·-Ð·Ð° Ð¿Ð»Ð¾Ñ…Ð¾Ð³Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ñ ",-1)])])):(i(),l("div",Ut,[t("div",$t,[o[13]||(o[13]=t("i",{class:"pi pi-image preview-icon"},null,-1)),t("span",Pt,w(e.$t("common.articlePreview")),1)])]))]),t("div",{class:"article-card-content-text","data-text":de.value},w(de.value),9,Nt)]),t("div",Ht,[t("div",Vt,[v.article.status!=="draft"?(i(),l("div",Ot,[t("button",{class:m(["action-btn like-btn",{active:S.value}]),onClick:d(Le,["stop"]),disabled:z.value},[z.value?(i(),l("div",Zt)):(i(),l("svg",{key:0,class:m(["heart-icon",{filled:S.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:S.value?"currentColor":"none"},null,8,Gt)],2)),t("span",Ft,w(E.value),1)],10,qt),t("button",{class:m(["action-btn dislike-btn",{active:R.value}]),onClick:d(Me,["stop"]),disabled:U.value},[U.value?(i(),l("div",Qt)):(i(),l("svg",{key:0,class:m(["dislike-icon",{filled:R.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:R.value?"currentColor":"none"},null,8,Kt)],2)),t("span",Yt,w(j.value),1)],10,Wt),t("button",{class:m(["action-btn comment-btn",{active:B.value}]),onClick:d(Te,["stop"])},[(i(),l("svg",{class:m(["comment-icon",{filled:B.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:B.value?"currentColor":"none"},null,8,Jt)],2)),t("span",Xt,w(be.value),1)],2),t("button",{class:m(["action-btn bookmark-btn",{active:x.value,pulse:V.value}]),onClick:d(je,["stop"])},[(i(),l("svg",{class:m(["bookmark-icon",{filled:x.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",fill:x.value?"currentColor":"none"},null,8,eo)],2))],2),t("button",{class:m(["action-btn share-btn",{active:h.value}]),onClick:d(Re,["stop"])},[(i(),l("svg",{class:m(["share-icon",{filled:h.value}]),width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"18",cy:"5",r:"3",stroke:h.value?"none":"currentColor","stroke-width":"2",fill:h.value?"currentColor":"none"},null,8,to),t("circle",{cx:"6",cy:"12",r:"3",stroke:h.value?"none":"currentColor","stroke-width":"2",fill:h.value?"currentColor":"none"},null,8,oo),t("circle",{cx:"18",cy:"19",r:"3",stroke:h.value?"none":"currentColor","stroke-width":"2",fill:h.value?"currentColor":"none"},null,8,ao),t("path",{d:"m8.59 13.51 6.83 3.98",stroke:"currentColor","stroke-width":h.value?"3":"2","stroke-linecap":"round"},null,8,io),t("path",{d:"m15.41 6.51-6.82 3.98",stroke:"currentColor","stroke-width":h.value?"3":"2","stroke-linecap":"round"},null,8,ro)],2))],2)])):y("",!0)]),t("button",{class:"read-more-btn",onClick:d(Ee,["stop"])},w(W(s)("common.read_more")),1)])]),(i(),X(he,{to:"body"},[H(te,{name:"image-fade"},{default:ee(()=>[q.value?(i(),l("div",{key:0,class:"image-preview-overlay",onClick:Y},[t("div",{class:"image-preview-content",onClick:o[1]||(o[1]=d(()=>{},["stop"]))},[t("div",{class:m(["image-zoom-box",[`zoom-${T.value}`]])},[t("img",{src:C.value||"",alt:v.article.title,class:"image-preview-img",onClick:d(Oe,["stop"])},null,8,so),t("button",{class:"image-preview-close",onClick:Y,"aria-label":"Close preview"},"Ã—")],2)])])):y("",!0)]),_:1})])),H(te,{name:"report-fade"},{default:ee(()=>[K.value?(i(),l("div",{key:0,class:"report-panel-overlay",onClick:ue},[t("div",{class:"report-panel",onClick:o[3]||(o[3]=d(()=>{},["stop"]))},[t("div",lo,[o[15]||(o[15]=t("h3",{class:"report-panel-title"},"Report Article",-1)),o[16]||(o[16]=t("p",{class:"report-panel-subtitle"},"Select the reason for reporting:",-1)),t("div",no,[(i(),l(oe,null,pe(qe,n=>t("label",{key:n.id,class:m(["reason-item",{selected:M.value.includes(n.id)}])},[ke(t("input",{type:"checkbox",value:n.id,"onUpdate:modelValue":o[2]||(o[2]=u=>M.value=u),class:"reason-checkbox"},null,8,co),[[nt,M.value]]),o[14]||(o[14]=t("span",{class:"reason-checkmark"},null,-1)),t("span",uo,w(n.title),1)],2)),64))]),t("div",vo,[t("button",{class:"report-panel-button cancel",onClick:ue},"Cancel"),t("button",{class:"report-panel-button confirm",onClick:Ge,disabled:M.value.length===0}," Submit Report ",8,mo)])])])])):y("",!0)]),_:1}),H(mt,{visible:O.value,"article-title":v.article.title,loading:xe.value,onConfirm:We,onCancel:Ke},null,8,["visible","article-title","loading"])],64))}}),Co=ut(ho,[["__scopeId","data-v-78937b76"]]);export{Co as A};
