import{d as w,r as k,o as b,n as x,f as C,i as A,j as a,k as r,A as p,B as f,m as y,C as _,g as E,E as L,_ as B}from"./index-Cha8mMNk.js";const F={class:"admin-layout"},R={class:"admin-content"},S={class:"admin-content-inner"},T={class:"admin-right-column"},V=w({__name:"AdminLayout",setup($){const h=E(),d=k(null);let o=null;function l(e){return h.path.startsWith(e)}const n=()=>{o&&cancelAnimationFrame(o),o=requestAnimationFrame(()=>{if(!d.value)return;const e=d.value,t=document.querySelector(".footer-wrapper");if(!t){const u=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||0;e.style.position="sticky",e.style.top=`${u+20}px`,e.style.bottom="auto";return}const s=t.getBoundingClientRect(),i=window.innerHeight,c=s.top,v=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--header-height"))||0,g=20,m=v+20;if(c>i){e.style.position="sticky",e.style.top=`${m}px`,e.style.bottom="auto";return}if(c<i){const u=i-c+g;e.style.position="sticky",e.style.top=`${m}px`,e.style.bottom=`${u}px`}else e.style.position="sticky",e.style.top=`${m}px`,e.style.bottom="auto"})};return b(async()=>{await x(),setTimeout(()=>{n()},100),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("header:heightChanged",n)}),C(()=>{o&&(cancelAnimationFrame(o),o=null),window.removeEventListener("scroll",n),window.removeEventListener("header:heightChanged",n)}),(e,t)=>{const s=_("router-link"),i=_("router-view");return L(),A("div",F,[a("aside",{ref_key:"sidebarRef",ref:d,class:"admin-sidebar"},[t[3]||(t[3]=a("div",{class:"admin-sidebar-header"},"Admin panel",-1)),r(s,{to:"/admin/articles",class:y(["admin-link",{active:l("/admin/articles")}])},{default:p(()=>[...t[0]||(t[0]=[f("Articles",-1)])]),_:1},8,["class"]),r(s,{to:"/admin/comments",class:y(["admin-link",{active:l("/admin/comments")}])},{default:p(()=>[...t[1]||(t[1]=[f("Comments",-1)])]),_:1},8,["class"]),r(s,{to:"/admin/profiles",class:y(["admin-link",{active:l("/admin/profiles")}])},{default:p(()=>[...t[2]||(t[2]=[f("Profiles",-1)])]),_:1},8,["class"])],512),a("main",R,[a("div",S,[a("div",T,[r(i)])])])])}}}),N=B(V,[["__scopeId","data-v-f412ad06"]]);export{N as default};
