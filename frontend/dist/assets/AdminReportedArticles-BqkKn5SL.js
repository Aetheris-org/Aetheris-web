import{x as D}from"./articles-Cl6OgbpY.js";import{A as x}from"./ArticleCard-CYaLlIwp.js";import{A as R,a as j}from"./ArticleCardSquare-hUaaENhO.js";import{A as B,a as S}from"./AdminHideDialog-DuXs6nFb.js";import{d as E,r,b as q,e as I,o as N,i as s,j as o,G as c,l as C,t as y,m,K as Z,F as L,q as F,E as n,_ as U}from"./index-Cha8mMNk.js";import"./index-CIrCQqjO.js";import"./DeleteConfirmDialog-CrHiTmEy.js";const z={class:"admin-section"},G={class:"section-header"},K={key:0,class:"badge"},O={class:"view-mode-switcher"},T=["title"],J=["title"],P=["title"],Q={key:0,class:"loading"},W={key:1,class:"empty"},X={class:"reason"},Y={class:"reason-text"},ee={class:"actions"},te=["onClick"],le=["onClick"],oe=E({__name:"AdminReportedArticles",setup(ne){const i=r([]),g=r(!0),v=r(!1),d=r(null),p=r(!1),u=r(null),b=q(),a=I(()=>b.mode);function f(e){b.setMode(e)}N(async()=>{try{const e=await D();i.value=e}finally{g.value=!1}});function w(e){return{id:e.id,title:e.title,content:"",excerpt:e.title,author:{id:0,username:"Reported"},tags:[],createdAt:new Date().toISOString(),status:"published",likes:0,dislikes:0,commentsCount:0}}function A(e){d.value=e.id,v.value=!0}function V(e){d.value!=null&&(i.value=i.value.filter(t=>t.id!==d.value)),d.value=null;try{document.dispatchEvent(new CustomEvent("app-toast",{detail:{severity:"success",summary:"Article deleted",detail:e?`Reason: ${e}`:"Deleted successfully",life:3500}}))}catch{}}function H(){d.value=null}function h(e){window.open(`/article/${e}`,"_blank")}function _(e){u.value=e.id,p.value=!0}function M(){u.value!=null&&(i.value=i.value.filter(e=>e.id!==u.value)),u.value=null;try{document.dispatchEvent(new CustomEvent("app-toast",{detail:{severity:"success",summary:"Article hidden",detail:"Hidden successfully",life:3500}}))}catch{}}function $(){u.value=null}return(e,t)=>(n(),s("div",z,[o("div",G,[t[8]||(t[8]=o("h2",null,"Reported articles",-1)),i.value.length?(n(),s("span",K,y(i.value.length),1)):C("",!0),o("div",O,[o("button",{class:m(["view-mode-btn",{active:a.value==="default"}]),onClick:t[0]||(t[0]=l=>f("default")),title:e.$t("header.additional.title4")},[...t[5]||(t[5]=[o("svg",{class:"view-mode-icon",width:"25",height:"27",viewBox:"0 0 25 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M23.375 13.5669V22.6025C23.375 23.2872 23.1204 23.9439 22.6672 24.428C22.214 24.9121 21.5993 25.1841 20.9583 25.1841H4.04167C3.40073 25.1841 2.78604 24.9121 2.33283 24.428C1.87961 23.9439 1.625 23.2872 1.625 22.6025V13.5669M23.375 13.5669V4.53131C23.375 3.84663 23.1204 3.18999 22.6672 2.70584C22.214 2.2217 21.5993 1.94971 20.9583 1.94971H4.04167C3.40073 1.94971 2.78604 2.2217 2.33283 2.70584C1.87961 3.18999 1.625 3.84663 1.625 4.53131V13.5669M23.375 13.5669H1.625",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],10,T),o("button",{class:m(["view-mode-btn",{active:a.value==="line"}]),onClick:t[1]||(t[1]=l=>f("line")),title:e.$t("header.additional.title2")},[...t[6]||(t[6]=[o("svg",{class:"view-mode-icon",width:"25",height:"18",viewBox:"0 0 25 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M1.625 8.83026H23.375M1.625 1.08545H23.375M1.625 16.5751H23.375",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],10,J),o("button",{class:m(["view-mode-btn",{active:a.value==="square"}]),onClick:t[2]||(t[2]=l=>f("square")),title:e.$t("header.additional.title3")},[...t[7]||(t[7]=[Z('<svg class="view-mode-icon" width="29" height="31" viewBox="0 0 29 31" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-bb29fa0a><path d="M12.0833 3.87256H3.625V12.9082H12.0833V3.87256Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-bb29fa0a></path><path d="M25.375 3.87256H16.9167V12.9082H25.375V3.87256Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-bb29fa0a></path><path d="M25.375 18.0714H16.9167V27.107H25.375V18.0714Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-bb29fa0a></path><path d="M12.0833 18.0714H3.625V27.107H12.0833V18.0714Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-bb29fa0a></path></svg>',1)])],10,P)])]),g.value?(n(),s("div",Q,"Loading...")):i.value.length?(n(),s("div",{key:2,class:m({"articles-list-vertical":a.value==="default"||a.value==="line","articles-grid":a.value==="square"})},[(n(!0),s(L,null,F(i.value,l=>(n(),s("div",{class:"article-wrapper",key:l.id},[a.value==="default"?(n(),c(x,{key:0,article:w(l),onArticleClick:k=>h(l.id),class:"admin-article-card",style:{cursor:"pointer"}},null,8,["article","onArticleClick"])):a.value==="line"?(n(),c(R,{key:1,article:w(l),onArticleClick:k=>h(l.id),class:"admin-article-card",style:{cursor:"pointer"}},null,8,["article","onArticleClick"])):(n(),c(j,{key:2,article:w(l),onArticleClick:k=>h(l.id),class:"admin-article-card",style:{cursor:"pointer"}},null,8,["article","onArticleClick"])),o("div",X,[t[9]||(t[9]=o("div",{class:"reason-label"},"Reason:",-1)),o("div",Y,y(l.reportReason),1),o("div",ee,[o("button",{class:"btn",onClick:k=>_(l)},"Hide",8,te),o("button",{class:"btn danger",onClick:k=>A(l)},"Delete",8,le)])])]))),128))],2)):(n(),s("div",W,"No reports")),v.value?(n(),c(B,{key:3,modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=l=>v.value=l),onConfirm:V,onCancel:H},null,8,["modelValue"])):C("",!0),p.value?(n(),c(S,{key:4,modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=l=>p.value=l),onConfirm:M,onCancel:$},null,8,["modelValue"])):C("",!0)]))}}),ve=U(oe,[["__scopeId","data-v-bb29fa0a"]]);export{ve as default};
